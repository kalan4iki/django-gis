from django.core.management.base import BaseCommand, CommandError
from bot.models import KNDhistor, DIPhistor, MKDhistor, Usersbot
import matplotlib.pyplot as plt

dvor = [('10.12.2019', '268', '265', '99'),
('11.12.2019', '269', '257', '96'),
('12.12.2019', '264', '258', '98'),
('13.12.2019', '264', '250', '95'),
('14.12.2019', '264', '257', '97'),
('15.12.2019', '269', '261', '97'),
('16.12.2019', '269', '257', '96'),
('17.12.2019', '271', '264', '98'),
('18.12.2019', '270', '268', '99'),
('19.12.2019', '270', '0', '0')]

dip = [('06.12.2019', '330', '168', '51'),
('07.12.2019', '330', '154', '47'),
('08.12.2019', '330', '164', '50'),
('09.12.2019', '330', '156', '47'),
('10.12.2019', '330', '296', '89'),
('11.12.2019', '330', '260', '79'),
('12.12.2019', '330', '211', '64'),
('13.12.2019', '330', '251', '76'),
('14.12.2019', '330', '276', '84'),
('15.12.2019', '330', '284', '86'),
('16.12.2019', '330', '278', '84'),
('17.12.2019', '330', '288', '87'),
('18.12.2019', '330', '296', '90'),
('19.12.2019', '330', '312', '95'),
('20.12.2019', '330', '327', '99'),
('21.12.2019', '330', '326', '99'),
('22.12.2019', '330', '329', '100')]

mkd = [('05.12.2019', '1027', '71', '7'),
('06.12.2019', '1027', '117', '11'),
('07.12.2019', '1027', '56', '5'),
('08.12.2019', '1027', '58', '6'),
('09.12.2019', '1027', '65', '6'),
('10.12.2019', '1027', '73', '7'),
('11.12.2019', '1027', '120', '12'),
('12.12.2019', '1027', '165', '16'),
('13.12.2019', '1027', '127', '12'),
('14.12.2019', '1027', '46', '5'),
('15.12.2019', '1027', '46', '5'),
('16.12.2019', '1027', '153', '15'),
('17.12.2019', '1027', '297', '29'),
('18.12.2019', '1027', '380', '37'),
('19.12.2019', '1027', '349', '34')]

class Command(BaseCommand):
    help = 'Команда запуска телеграм бота'

    def handle(self, *args, **options):
        for i in dip:
            temp = i[0].split('.')
            a = DIPhistor(date=i[0], day=temp[0], month=temp[1], year=temp[2], maxdvor=i[1], complete=i[2], proc=i[3])
            a.save()
